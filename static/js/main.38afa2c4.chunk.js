(this["webpackJsonplines-no-1"]=this["webpackJsonplines-no-1"]||[]).push([[0],{18:function(i,t,n){},32:function(i,t,n){"use strict";n.r(t);var e=n(1),s=n(0),o=n.n(s),r=n(9),a=n.n(r),h=(n(18),n(2));window.p5=h;n(20);var d=n(10),u=n(11),c=n(12),l=function(){function i(t,n,e){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(u.a)(this,i),this.p=t,this.divisor=n>1?n:1,this.origin={x:this.p.random(this.p.width)/this.divisor,y:this.p.random(this.p.height)/this.divisor},this.destination={x:this.origin.x,y:this.origin.y},this.direction=this.randomUnitVector(),this.length=this.p.random(this.p.width/16,this.p.width/2)/this.divisor,this.colour=e||parseInt(this.p.random(255)),Number.isInteger(this.colour)&&(this.colour=this.p.color(this.colour),this.colour.setAlpha(this.p.random(255))),this.weight=5+s,this.strokeCap=this.p.ROUND}return Object(c.a)(i,[{key:"randomUnitVector",value:function(){var i=2*this.p.random(0,1)*Math.PI,t=[];return t[0]=1*Math.cos(i),t[1]=1*Math.sin(i),t}},{key:"draw",value:function(){this.p.push(),this.p.translate(this.p.width/2-this.p.width/this.divisor/2,this.p.height/2-this.p.height/this.divisor/2),this.p.strokeWeight(this.weight),this.p.strokeCap(this.strokeCap),this.p.stroke(this.colour),this.p.line(this.origin.x,this.origin.y,this.destination.x,this.destination.y),this.p.pop()}},{key:"update",value:function(){this.p.dist(this.origin.x,this.origin.y,this.destination.x,this.destination.y)<this.length&&(this.destination.x=this.destination.x+10*this.direction[0],this.destination.y=this.destination.y+10*this.direction[1])}}]),i}(),p=n.p+"static/media/lines-no-1.31da1490.ogg",g=n.p+"static/media/lines-no-1.dbd05d27.mid",v=function(){var i=Object(s.useRef)(),t=function(i){i.canvas=null,i.canvasWidth=window.innerWidth,i.canvasHeight=window.innerHeight,i.audioLoaded=!1,i.player=null,i.PPQ=15360,i.lines=[],i.lineArrays=[],i.minLines=8,i.maxLines=64,i.preload=function(){i.song=i.loadSound(p),d.Midi.fromUrl(g).then((function(t){var n=t.tracks[4].notes,e=t.tracks[3].notes;i.scheduleCueSet(n,"executeCueSet1"),i.scheduleCueSet(e,"executeCueSet2")}))},i.scheduleCueSet=function(t,n){for(var e=-1,s=0;s<t.length;s++){var o=t[s],r=o.ticks,a=o.time;r!==e&&(o.currentCue=s+1,i.song.addCue(a,i[n],o),e=r)}},i.setup=function(){i.randomColor=n(30),i.canvas=i.createCanvas(i.canvasWidth,i.canvasHeight),i.bgColour=0,i.darkBGs=i.randomColor({luminosity:"dark",count:12}),i.lightBGs=i.randomColor({luminosity:"light",count:12}),i.preloadLineArrays()},i.draw=function(){i.background(i.bgColour),i.lines.length&&(i.lines.forEach((function(i){return i.draw()})),i.song.isPlaying()&&i.lines.forEach((function(i){return i.update()})))},i.preloadLineArrays=function(){for(var t=12,n=0;n<185;n++){n%31===0&&(t-=2);var e=!0;(n>61&&n<=92||n>123&&n<=154)&&(e=!1);var s=i.random(i.minLines,i.maxLines),o=e?"bright":"dark",r=e?"rgba":"rgb",a=i.randomColor({luminosity:o,count:s,format:r});if(n>30)for(var h=0;h<s;h++)i.lines.push(new l(i,t,a[h],n/10));else for(var d=0;d<s;d++)i.lines.push(new l(i,t));i.lineArrays.push(i.lines),i.lines=[]}},i.darkMode=!0,i.executeCueSet1=function(t){var n=t.currentCue;i.lines=i.lineArrays[n-1]},i.executeCueSet2=function(t){var n=t.ticks;n/i.PPQ%8===4&&(i.darkMode=!i.darkMode),n/i.PPQ%4===0&&(i.bgColour=i.darkMode?i.random(i.darkBGs):i.random(i.lightBGs))},i.mousePressed=function(){i.song.isPlaying()?i.song.pause():(parseInt(i.song.currentTime())>=parseInt(i.song.buffer.duration)&&i.reset(),i.canvas.addClass("fade-in"),i.song.play())},i.reset=function(){i.bgColour=0,i.darkBGs=i.randomColor({luminosity:"dark",count:12}),i.lightBGs=i.randomColor({luminosity:"light",count:12}),i.lineArrays=[],i.preloadLineArrays()},i.updateCanvasDimensions=function(){i.canvasWidth=window.innerWidth,i.canvasHeight=window.innerHeight,i.createCanvas(i.canvasWidth,i.canvasHeight),i.redraw()},window.attachEvent?window.attachEvent("onresize",(function(){i.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){i.updateCanvasDimensions()}),!0)};return Object(s.useEffect)((function(){new h(t,i.current)}),[]),Object(e.jsx)("div",{ref:i})};var f=function(){return Object(e.jsx)(v,{})};a.a.render(Object(e.jsx)(o.a.StrictMode,{children:Object(e.jsx)(f,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.38afa2c4.chunk.js.map